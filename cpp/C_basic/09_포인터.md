# 포인터

- 포인터의 개념, 활용 방법
- 포인터를 사용했을 때의 강력한 기능



## 포인터의 개념

- 지금까지의 변수는 그 자체로 자신의 자료형에 맞는 값을 저장했다.
- 포인터(Pointer) 변수는 특이한 변수로, 메모리 주소를 저장한다.



<u>정리해보면</u>

- 포인터는 특정한 변수 자체가 존재하는 메모리 주소의 값을 가진다.
- 따라서 다음 예제에서는 기존에 a를 이용해서도 5라는 값을 찾을 수 있지만 포인터 변수인 b를 이용해서도 5라는 값을 찾을 수 있다.

```c
int a = 5;

int *b = &a;
```

>  a에는 5라는 정수가 저장되어있고, 저장되어있는 위치(주소)는 0xAFB03954라 하면 포인터 변수 b는 a의 주소인 0xAFB03954가 저장되어있다.

- 선언할 때 `*`는 포인터 변수임을 알려주기 위한 목적으로 쓴다.
- `*b`라고 쓰면, 이것은 포인터 변수 b를 가리키는 주소값을 의미한다. (간접 참조연산자)



## 포인터 관련 연산자

| 연산자              | 설명                                                      |
| ------------------- | --------------------------------------------------------- |
| 주소 연산자(&)      | 변수 앞에 붙어서 **변수의 메모리 시작 주소** 값을 구한다. |
| 포인터(*)           | 포인터 변수를 선언할 때 사용                              |
| 간접 참조 연산자(*) | 선언된 포인터 변수가 가리키는 변수를 구한다.              |



예제)

```c
#include <stdio.h>

int main(void){
    int a = 5;
    int *b = &a; // * : 포인터
    printf("%d\n", *b); // * : 간접 참조 연산자
    system("pause");
    return 0;
}
```

- `printf("%d\n", *b);`와 `printf("%d\n", b);`는 다르다.
- 전자는 *b의 주소가 기리키는 값을 가져와서 5를 출력하고, 후자는 b의 주소 11533640를 출력한다.



예제) 배열 각 원소의 주소 값 출력

```c
#include <stdio.h>

int main(void){
    int a[] = { 1,2,3,4,5,6,7,8,9,10};
    int i;
    for (i=0; i<10; i++){
        printf("%d\n", &a[i]);
    }
    system("pause");
    return 0;
}
```

```bash
10353752 // int라 4byte
10353756
10353760
10353764
10353768
10353772
10353776
10353780
10353784
10353788
```



## 포인터의 강력한 기능

- 포인터는 컴퓨터 시스템의 특정한 메모리에 바로 접근할 수 있다.
- 따라서 기존에 존재하던 중요한 메모리 영역에 접근하지 않도록 해야 한다.
- 다음과 같은 코드는 굉장히 위험한 코드다.

```c
int *a = 0x33484735;
*a = 0;
```



<u>다중 포인터 참조도 가능</u>

```c
#include <stdio.h>

int main(void){
    int a = 5;
    int *b = &a;
    int **c = &b; //*를 2개써줌
    // ...
    return 0;
}
```



### 배열과 포인터

- 배열과 포인터는 사실 동일
- 배열을 선언한 이후에는 그 이름 자체가 포인터 변수와 동일하다.

예제)

```c
#include <stdio.h>

int main(void){
    int a[] = {1,2,3,4,5,6,7,8,9,10};
    int *b = a; // &를 안썼다. 이름자체가 주소값을 가지고 있음.
    printf("%d\n", b[2]);
    system("pause");
    return 0;
}
```



## 정리

**포인터**

- 포인터는 특정한 변수가 메모리 상에 존재하는 위치 주소를 저장
- 포인터는 특정한 메모리 주소에 바로 접근할 수 있으므로 조심스럽게 사용해야 한다.