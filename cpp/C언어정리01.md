# C 언어



## 컴파일과 컴파일러

프로그램을 만드는 과정

- 소스파일

```c
int main(void) {
    ...
    return 0;
}
```





## c 구조와 데이터 출력

C는 함수로 구성해서 만든다. **함수**는 일정한 기능을 수행하는 코드 단위를 의미함.



### 주석

- 한줄 주석 : //

- 다중 주석 : /* */



### main 함수 기본 구조

```c
// 예제

int main(void){
    10 + 20;
    
    return 0;
}
```

**머리(head)**와 **몸통(body)**로 구성된다.

- 머리(head)
  - 함수 원형(function prototype)이라고도 한다.
  - 함수의 이름과 필요한 데이터 등을 표시

```c
int main(void)
```

- 몸통(body)

```c
{
    // 실행 코드
    return 0;
}
```



### 기본 출력 : printf

stdio 헤더 추가 (stdio : standard input output)

```c
#include <stdio.h>

int main(void){
    printf("Be happy");
    return 0;
}
```



> apple이란 단어에서 'a' 하나를 문자, "apple"을 문자열 이라고 한다.



#### Escape Sequence (제어문자)

- `\n` : 줄 바꿈

- `\t` : tab만큼 띄어쓰기

- `\b` : 백스페이스 (한 칸 왼쪽으로 이동)

  - ```c
    printf("Goot\bd\tchance\n");
    ```

    ```bash
    > Good	chance
    > 
    ```

    Goot에서 한 칸왼쪽으로 Goo에서 d를 붙여 출력하면 Good이되고 tab만큼 띄어서 chance 출력하고 줄바꿈

- `\r` : 캐리지 리턴(carriage return) : 맨 앞으로 이동

  - ```c
    printf("Cow\rW\a\n");
    ```

    ```bash
    > Wow
    >
    ```

    Cow에서 맨앞으로 가서 C자리에 W를 출력하고 `\a`는 벨소리를 내어 경보를 울리고 줄바꿈

  

  



### 정수 실수 출력

- 정수 출력 : %d

- 실수 출력 : %lf

```c
// 예시

int main(void){
    printf("%d\n", 10);
    printf("%lf\n", 3.4); // 기본 소숫점 6자리
    printf("%.1lf\n", 3.45); // 소숫점 1자리까지
    printf("%.10lf\n", 3.4); // 소숫점 10자리까지
    
    return 0;
}
```

```bash
> 10
> 3.400000
> 3.5
> 3.4000000000
```





## 상수와 데이터 표현 방법

> C언어는 메모리에 직접 전근하거나 비트 단위의 연산을 수행하여 데이터를 효율적으로 처리할 수 있다.
>
> 이런 장점을 잘 쓰려면 데이터가 메모리에 저장되는 방식을 알아야 한다.



### 상수(constant)

정해져 있고 변하면 안되는 경우 사용하는 수 (변수 : 변하는 수)

#### 정수 상수 표현

기본으로 10진수 (0 부터 9, +, - 기호)

2진수, 8진수, 16진수 사용 가능

- 8진수 : 숫자 앞에 0을 붙여 표현
- 16진수 : 숫자 앞에 0x를 붙여 구분
  - 예 : 12를 8진수와 16진수로 쓰면 014, 0xc
- 





#### 추가





## 변수

변수 선언

```c
int a;
```

정수 변수 a를 선언. (4바이트)

변수를 선언하면 메모리에 저장 공간이 생기는데 처음 생기는 값은 알 수 없다. 프로그램이 종료되면 사용하던 메모리 공간을 반납하고 새로 실행된 프로그램이 그 공간을 쓰는 것.

근데 종료된 프로그램이 어떤 값을 메모리 공간에 남겨 놓았는지는 알 수 없다. 그래서 이 값은 의미가 없으므로 이를 쓰레기값(garbage value)라고 한다. 이로 인해 프로그램에 오류가 생길 수도 있는 것이다.

그래서 변수를 선언해서 쓸 때 초기화도 같이 해줘야 한다. 대입 연산자를 써서 초기화를 해주자.

```c
#include <stdio.h>

int main(void){
    int a;
    int b, c;
    double da;
    char ch;
    
    a = 10;
    b = a;
    c = a + 20;
    da = 3.5;
    ch = 'A';
    
    ...
	printf문
	...
        
    return 0;
}
```



### 정수 자료형

#### signed 정수 

- (부호가 있는 자료형)

범위 : `-2^(비트-1) \~ 2^(비트-1) - 1`

- char : 1 byte
- short : 2 byte
- int : 4 byte
- long : 4 byte
- long long : 8 byte

long형과 long long형 출력시는 %ld, %lld로 쓰자.



정수의 기본형은 int다. short는 메모리가 더 적지만 실행 과정 중 int형으로 변환되기 때문에 실행속도가 느려질 수 있다.

또한 long long형은 4바이트에 들어갈 수 없는 값을 저장할 때 쓰는데 그냥 막 쓰면 메모리 낭비가 크다.



그럼 long형은 언제 쓰냐? 간혹 컴파일러가 int형이 2바이트인 경우가 있다. 그럴 때 long형을 쓰자. 근데 int랑 long 둘다 4바이트면 그냥 int를 쓰자.



#### unsigned 정수

양수만을 저장하려 할 때 쓴다. 음수부분이 없기에 더 큰 양수값을 저장할 수 있다.

unsigned라고 선언을 안하면 자동으로 signed로 선언된다.

선언시 자료형 앞에 unsigned라고 쓰면 된다.



```c
#include <stdio.h>

int main(void){
    unsigned int a;
    
    a = 4294967295;
    printf("%d\n", a);
    a = -1;
    printf("%u\n", a);
    
    return 0;
}
```

```
> -1
> 4294967295
```

%d는 부호비트를 고려, %u는 부호비트를 무시



### 실수 자료형

- float : 4 byte
- double
- long double

실수는 값의 범위보단 유효숫자를 따지는게 중요하다.

```c
#include <stdio.h>

int main(void)
{
    float ft = 1.234567890123456789;
    double db = 1.234567890123456789;
    
    printf("%.20f\n", ft);
    printf("%.20lf\n", db);
    return 0;
}
```

```
> 1.23456788063049316406
> 1.23456789012345669043
```

두 값이 다르다. 

float은 1.2345678|8063049316406, double은 1.234567890123456|69043

실수형은 저장하는 값에 따라 숫자가 정확하게 표현될 수도 있고 그렇지 않을 수도 있다.

왜그럴까? 컴퓨터에서 실수를 표현하는 방식이 오차를 갖기 때문이다.

따라서 다음의 유효숫자 자리 범위 안으로 쓰는게 좋다.

- float : 유효 숫자 7자리

- double : 유효숫자 7자리



**Rule**

- 정수형을 기본으로 쓰고 실수형은 꼭 필요할 때만 쓴다.
- 실수형은 유효 숫자가 많은 double형을 기본으로 쓴다.



long double은 컴파일러마다 처리하는 유효숫자가 다르다.

- TC++ : 10바이트
- Dev-C++ : 12바이트
- Unix/Linux gcc : 16바이트
- VC++ : 8바이트

그래서 호환성을 생각하면 잘 써야한다.



### 문자열

문자열을 저장하려면 char형을 배열 형태로 만들어서 저장한다.

`char 배열명[문자열길이+1] = 문자열;`

예로 apple을 저장하려면

```c
char fruit[6] = "apple";
```

왜 배열 크기를 5가 아니라 6을 해야할까?

컴파일러가 문자열의 끝에 `\0` (널 문자_null character)를 자동으로 추가하기 때문이다.

> 널문자 : 문자열의 끝을 표시하는 특별한 문자



기본 자료형을 여러 개 묶어 사용하는 것을 배열(array)라고 한다.

문자열은 `%s`로 출력한다.



배열은 선언된 이후에 대입 연산자로 문자열을 입력할 수 없다. 

char 배열은 선언에 따라 크기가 달라지므로, 더 자세한건 배열과 포인터에서 공부한다.

char배열에 새로운 문자열을 저장하려면? 대입 연산자가 아니라 <u>초기화</u> 또는 <u>strcpy</u> 함수(string copy)를 사용한다.

```c
char fruit[20] = "strawberry";

strcpy(fruit, "banana");
```



> strcpy 함수가 컴파일 되지않으면 맨위에
>
> #define _CRT_SECURE_NO_WARNINGS 를 추가하자.



### const

const는 한번 초기화되면 값을 바꿀 수 없다. (선언과 동시에 초기화)

`const 자료형 변수명 = 값;`

값이 바뀌면 안되는 경우 사용하자.



### 예약어, 식별자

예약어(reserved word, keyword)는 컴파일러와 사용 방법이 약속된 단어

식별자(identifier)는 필요에 따라 만들어 사용하는 단어



#### 식별자 규칙

- 알파벳 A\~Z, a\~z, 숫자 0\~9, `_`(언더바) 사용
- 숫자로 시작 불가
- 대소문자 구분
- 예약어는 사용 불가



## 입력

### scanf 함수

scanf 함수는 키보드에서 입력한 값을 변수에 저장할 때 사용

변수의 형태에 맞는 변환 문자를 사용하고 입력할 변수 앞에 `&` 기호를 붙여 쓴다.

> `&`는 앰퍼샌드(ampersand)라고 쓴다.

```c
scanf("%d", &a);
```



**주의점**

- scanf 함수에서 변수명을 지정할 때는 `&`를 붙여야 한다. (포인터)
- scanf 함수에서 사용한 변환 문자와 맞는 형태의 데이터를 입력해야 한다.

#### 응용

```c
scanf("%d%lf", &a, &b);
```

여러 개의 변환 문자를 나열하여 한 번에 2개 이상의 변수에 값을 입력할 수 있다.

```c
scanf("%d%lf", &age, &height);
printf("나이는 %d살, 키는 %lfcm이다.\n", age, height);
```

```
> 17 187.5
> 나이는 17살, 키는 187.5cm이다.
```



> 참고
>
> 한글은 한 자당 2바이트, 영어는 한 자당 1바이트

















